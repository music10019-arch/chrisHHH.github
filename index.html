<!DOCTYPE html> 
<html>
<head>
    <title> </title>
    
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #cfe2f3;
            color: #333;   
        }
      
        h1 {
            color: #16bbe7;
            font-size: 32px;
        }

        /*      !!!!!!!!!!!!!!!!!!!  新增 flex 容器，讓兩個 h1 左右顯示 !!!!!!!!!!! */
        .flex-container {
            display: flex;
            justify-content: space-between; /* 左右對齊 */
            align-items: center; /* 垂直置中 */
            margin-bottom: 20px;  }

        .block {
            width: 48%; /* 左右區塊各占 48% */ 
            min-height: 400px;  /* 固定區塊高度 */
        
        }
        
            
        p {
            font-size: 18px;
            line-height: 1.5; margin: 5px 0;
        }
        .p3 {
            color: #16537e;
            font-size: 40 px; 
        }

        button {
            background-color: #49934c;
            color: white;
            padding: 10px 25px;
            font-size: 16px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
        }

        button:hover {
            background-color: #1f5e22;
        }

        button:active {
            background-color: #c90076;
        }

            
    </style>
</head>

<body> <div class="flex-container">

    <!-- <p class="pg1"> </p>
    <p class="pg2"> </p> -->
    
    <!-- 左邊區塊: 顯示數字 -->
    <div class="block">
    <h1>點擊按鈕顯示數字</h1>
    <p>你每按一下</p>
    <p class="p3">會出現1~5隨機數字</p>
    <button onclick="showNumber()">點我!</button>
    <p id="numbershow">          </p>                       </div>


    <!-- 右邊區塊: 顯示圖片 -->
    <div class="block">
    <h1>滑過按鈕顯示圖片</h1>
    <p>你每滑過一下 會出現圖片</p>
    <button onmouseover="showImage()">輕輕碰到就好!</button>
    <br> <br>
    <p id="loadingText" style="display:none;">圖片載入中...</p>
    <img id="imageShow" src="" height="250">                        </div>

    
    <script>
        function showNumber() {
            const number = Math.floor(Math.random() * 5) + 1; 
            document.getElementById("numbershow").innerText = "數字是: " + number;  }


        
        let cachedImages = []; // 快取用 // 全域快取圖片連結，避免每次都向 GitHub 請求 // cachedImages 用來存放從 GitHub API 拿到的圖片 URL

        async function showImage() {
        // 取得要操作的 HTML 元素
        const imageEl = document.getElementById("imageShow");
        const loadingEl = document.getElementById("loadingText");
   
        try { // 嘗試執行主要圖片載入流程

             // 顯示 loading 提示
        loadingEl.style.display = "block";  // 讓「圖片載入中」文字出現在畫面
        imageEl.style.opacity = 0;          // 將圖片暫時設為透明，等圖片載入完成再淡入

        // 如果快取陣列還是空的，才向 GitHub API 請求
        if (cachedImages.length === 0) {
            const response = await fetch('https://api.github.com/repos/music10019-arch/chrisHHH.github/contents/images'); 
            // 取得 repo 裡 images 資料夾內容

            const files = await response.json();  
            // 轉成 JSON 陣列，每個元素都是一個檔案資訊物件

            cachedImages = files
                .filter(f => /\.(jpg|jpeg|png)$/i.test(f.name))  // 過濾只要圖片檔（jpg/png/jpeg）
                .map(f => f.download_url);  // 取出每個檔案的下載 URL
        }

        // 隨機選一張圖片
        const randomIndex = Math.floor(Math.random() * cachedImages.length); // 產生 0~(length-1) 的整數
        imageEl.src = cachedImages[randomIndex]; // 設定 <img> 的 src 屬性，開始載入圖片

        // 當圖片真正載入完成後
        imageEl.onload = () => {
            loadingEl.style.display = "none";        // 隱藏「載入中」文字
            imageEl.style.transition = "opacity 0.8s"; // 設定淡入效果
            imageEl.style.opacity = 1;               // 將圖片淡入顯示
        };

    } catch (error) {
        console.error("圖片載入失敗:", error); // 如果抓 API 或圖片出錯，顯示錯誤
        loadingEl.textContent = "載入失敗，請稍後再試。"; // 告知使用者
    }
}

           
      
    </script>
</body>
</html>























